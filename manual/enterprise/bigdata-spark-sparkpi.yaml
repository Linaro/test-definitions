metadata:
    name: sparkpi
    format: "Manual Test Definition 1.0"
    description: "Functional tests of Spark - sparkpi"
    maintainer:
        - milosz.wasilewski@linaro.org
    os:
        - CentOS
    scope:
        - performance
    devices:
        - d02
        - d03
        - d05
        - overdrive
        - moonshot
    environment:
        - manual-test

run:
    steps:
        - "Make sure OpenJDK8 is installed by typing:
          $ java -version
          It should display 1.8"
        - "Follow the steps of Installation from wiki 'https://wiki.linaro.org/LEG/Engineering/BigData/ODPi_Setup_Config_Run#Setting_up_ODPi_Hadoop_on_Single_Node'"
        - "Verify apache spark installation by testing spark shell. By typing:
          $ $SPARK_HOME/bin/spark-shell --master local[*]  "
        - "Run sparkpi example workload. By typing:
          $ $SPARK_HOME/bin/run-example SparkPi 100 "
    expected:
        - The job should complete without error. Teh job output should list the estimate value of pi to the number of characters specified.
