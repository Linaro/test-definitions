metadata:
    name: lmp-device-register-devel
    format: "Manual Test Definition 1.0"
    description: "Register device to follow only builds with devel tag"
    maintainer:
        - brendan.wood@foundires.io
    os:
        - ubuntu
        - openembedded
    scope:
        - functional
    devices:
        - 
    environment:
        - manual-test

run:
    steps:
        - ensure factory has a least 2 targets tagged "devel" a more recent "main" target
        - flash device with older "devel" target"
        - boot up the device
        - run lmp-device-register -t devel -n <name>
        - authenticate device with user code in browser  
        - device should update to most recent "devel" target NOT more recent "main" target
                       
    expected:
       - Device should only update to "devel" tagged builds
       - No kernal crashes   
