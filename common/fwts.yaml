metadata:
    name: fwts
    format: "Lava-Test-Shell Test Definition 1.0"
    description: "Ubuntu Firmware Test Suite (fwts). The FWTS tool comprises of over fifty tests
                  that are designed to exercise and test different aspects of a machine's firmware.
                  More details - https://wiki.linaro.org/LEG/Engineering/test-acpi#Ubuntu_Firmware_test_suite"
    maintainer:
        - naresh.bhat@linaro.org
    os:
        - ubuntu
        - openembedded
    scope:
        - functional
    devices:
        - panda
        - panda-es
        - arndale
        - vexpress-a9
        - vexpress-tc2
        - rtsm_fvp_base-aemv8a

install:
    deps:
        - fwts
run:
    steps:
        - lava-test-case fwts --shell fwts -a --log-filter=ALL --log-format='%owner-%field:' -w 250
        - lava-test-case-attach fwts results.log text/plain
        - ./common/scripts/fwts-parser.py results.log

parse:
    pattern: "(?P<test_case_id>.*):\\s(?P<result>(pass|fail|skip)$)"
